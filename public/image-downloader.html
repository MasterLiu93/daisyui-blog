<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>图片下载工具</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f7f7f7;
        }
        h1, h2 {
            color: #333;
            margin-top: 30px;
        }
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        .card-content {
            padding: 15px;
        }
        .btn {
            display: inline-block;
            background-color: #4a6cf7;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            margin-top: 10px;
        }
        .btn:hover {
            background-color: #3a5cd8;
        }
        .btn-group {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }
    </style>
</head>
<body>
    <h1>图片下载工具</h1>
    <p>点击下面的"预览"按钮查看图片，然后右键单击图片选择"图片另存为..."来保存到对应目录。</p>
    
    <div class="btn-group">
        <button class="btn" onclick="loadImages()">加载所有图片</button>
        <button class="btn" onclick="downloadAll()">批量下载(仅Chrome)</button>
    </div>
    
    <h2>项目图片</h2>
    <div id="project-images" class="grid"></div>
    
    <h2>博客图片</h2>
    <div id="blog-images" class="grid"></div>

    <script>
        // 图片尺寸
        const width = 800;
        const height = 600;

        // 项目图片 - 使用不同关键词
        const projectKeywords = [
            'smart home',
            'ecommerce',
            'health app',
            'artificial intelligence',
            'blockchain',
            'collaboration software'
        ];

        // 博客图片 - 使用不同关键词
        const blogKeywords = [
            'coding',
            'technology',
            'web development',
            'mobile app',
            'user interface',
            'machine learning',
            'software engineering',
            'data visualization',
            'cloud computing'
        ];

        // 加载图片到页面
        function loadImages() {
            const projectContainer = document.getElementById('project-images');
            const blogContainer = document.getElementById('blog-images');
            
            projectContainer.innerHTML = '';
            blogContainer.innerHTML = '';
            
            // 加载项目图片
            projectKeywords.forEach((keyword, index) => {
                const encodedKeyword = encodeURIComponent(keyword);
                // 使用Picsum.photos而不是Unsplash
                const imageUrl = `https://picsum.photos/seed/${encodedKeyword}/${width}/${height}`;
                const fileName = `project-${index + 1}.jpg`;
                
                const card = createImageCard(imageUrl, keyword, fileName, 'projects');
                projectContainer.appendChild(card);
            });
            
            // 加载博客图片
            blogKeywords.forEach((keyword, index) => {
                const encodedKeyword = encodeURIComponent(keyword);
                // 使用Picsum.photos而不是Unsplash
                const imageUrl = `https://picsum.photos/seed/${keyword.replace(/\s+/g, '-')}/${width}/${height}`;
                const fileName = `blog-${index + 1}.jpg`;
                
                const card = createImageCard(imageUrl, keyword, fileName, 'blog');
                blogContainer.appendChild(card);
            });
        }
        
        // 创建图片卡片
        function createImageCard(imageUrl, keyword, fileName, folder) {
            const card = document.createElement('div');
            card.className = 'card';
            
            const img = document.createElement('img');
            img.src = imageUrl;
            img.alt = keyword;
            img.loading = 'lazy';
            
            const content = document.createElement('div');
            content.className = 'card-content';
            
            const title = document.createElement('h3');
            title.textContent = fileName;
            
            const description = document.createElement('p');
            description.textContent = `关键词: ${keyword}`;
            
            const saveText = document.createElement('p');
            saveText.textContent = `保存到: public/images/${folder}/${fileName}`;
            saveText.style.fontSize = '12px';
            saveText.style.color = '#666';
            
            const downloadBtn = document.createElement('a');
            downloadBtn.className = 'btn';
            downloadBtn.textContent = '保存图片';
            downloadBtn.href = imageUrl;
            downloadBtn.setAttribute('download', fileName);
            downloadBtn.target = '_blank';
            
            content.appendChild(title);
            content.appendChild(description);
            content.appendChild(saveText);
            content.appendChild(downloadBtn);
            
            card.appendChild(img);
            card.appendChild(content);
            
            return card;
        }
        
        // 尝试批量下载所有图片（仅在支持的浏览器中工作）
        async function downloadAll() {
            try {
                // 创建项目文件夹
                await createFolders();
                
                // 下载项目图片
                for (let i = 0; i < projectKeywords.length; i++) {
                    const keyword = projectKeywords[i];
                    const encodedKeyword = encodeURIComponent(keyword);
                    // 使用Picsum.photos而不是Unsplash
                    const imageUrl = `https://picsum.photos/seed/${encodedKeyword}/${width}/${height}`;
                    const fileName = `project-${i + 1}.jpg`;
                    
                    await downloadImage(imageUrl, `public/images/projects/${fileName}`);
                    console.log(`已下载: ${fileName}`);
                }
                
                // 下载博客图片
                for (let i = 0; i < blogKeywords.length; i++) {
                    const keyword = blogKeywords[i];
                    const encodedKeyword = encodeURIComponent(keyword);
                    // 使用Picsum.photos而不是Unsplash
                    const imageUrl = `https://picsum.photos/seed/${keyword.replace(/\s+/g, '-')}/${width}/${height}`;
                    const fileName = `blog-${i + 1}.jpg`;
                    
                    await downloadImage(imageUrl, `public/images/blog/${fileName}`);
                    console.log(`已下载: ${fileName}`);
                }
                
                alert('所有图片已下载完成！');
            } catch (error) {
                alert('批量下载失败: ' + error.message);
                console.error('下载错误:', error);
            }
        }
        
        // 注意: 这些功能仅在浏览器支持的情况下有效
        async function createFolders() {
            // 这在浏览器环境中不能直接创建文件夹
            // 这里只是提示用户
            alert('请确保已创建以下文件夹:\n- public/images/projects/\n- public/images/blog/');
        }
        
        async function downloadImage(url, path) {
            // 在浏览器中，我们只能触发下载，无法指定路径
            const a = document.createElement('a');
            const response = await fetch(url);
            const blob = await response.blob();
            a.href = URL.createObjectURL(blob);
            a.download = path.split('/').pop(); // 仅使用文件名
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            // 添加延迟，防止浏览器限制并行下载
            return new Promise(resolve => setTimeout(resolve, 1000));
        }
        
        // 页面加载时自动执行
        window.onload = function() {
            loadImages();
        };
    </script>
</body>
</html> 